
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Subset relative point analysis - all points &#8212; Exploratory Data Analysis of Face Landmarks</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Subset relative point analysis - specific points" href="point_analysis_subset_relativeEval.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Exploratory Data Analysis of Face Landmarks</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to your Jupyter Book
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../EDA_filename.html">
   EDA notebooks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="point_analysis_subset.html">
   Subset relative point analysis - specific points v2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="point_analysis_subset_relativeEval.html">
   Subset relative point analysis - specific points
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Subset relative point analysis - all points
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/martinschatz-cz/EDA_face_analysis/master?urlpath=tree/docs/EDA/point_analysis_subset_relativeEval-ALL.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/martinschatz-cz/EDA_face_analysis/EDA_face_analysis_book/"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/martinschatz-cz/EDA_face_analysis/EDA_face_analysis_book//issues/new?title=Issue%20on%20page%20%2FEDA/point_analysis_subset_relativeEval-ALL.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/EDA/point_analysis_subset_relativeEval-ALL.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Subset relative point analysis - all points</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="subset-relative-point-analysis-all-points">
<h1>Subset relative point analysis - all points<a class="headerlink" href="#subset-relative-point-analysis-all-points" title="Permalink to this headline">#</a></h1>
<p><a class="reference external" href="https://stackoverflow.com/questions/52859983/interactive-matplotlib-figures-in-google-colab">https://stackoverflow.com/questions/52859983/interactive-matplotlib-figures-in-google-colab</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip install -r requirements.txt
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pandas in c:\users\martin\miniconda3\lib\site-packages (from -r requirements.txt (line 1)) (1.3.5)
Requirement already satisfied: seaborn in c:\users\martin\miniconda3\lib\site-packages (from -r requirements.txt (line 2)) (0.12.1)
Requirement already satisfied: numpy in c:\users\martin\miniconda3\lib\site-packages (from -r requirements.txt (line 3)) (1.21.6)
Requirement already satisfied: matplotlib in c:\users\martin\miniconda3\lib\site-packages (from -r requirements.txt (line 4)) (3.5.3)
Requirement already satisfied: scipy in c:\users\martin\miniconda3\lib\site-packages (from -r requirements.txt (line 5)) (1.7.3)
Requirement already satisfied: python-dateutil&gt;=2.7.3 in c:\users\martin\miniconda3\lib\site-packages (from pandas-&gt;-r requirements.txt (line 1)) (2.8.2)
Requirement already satisfied: pytz&gt;=2017.3 in c:\users\martin\miniconda3\lib\site-packages (from pandas-&gt;-r requirements.txt (line 1)) (2022.6)
Requirement already satisfied: typing_extensions; python_version &lt; &quot;3.8&quot; in c:\users\martin\miniconda3\lib\site-packages (from seaborn-&gt;-r requirements.txt (line 2)) (4.4.0)
Requirement already satisfied: kiwisolver&gt;=1.0.1 in c:\users\martin\miniconda3\lib\site-packages (from matplotlib-&gt;-r requirements.txt (line 4)) (1.4.4)
Requirement already satisfied: pyparsing&gt;=2.2.1 in c:\users\martin\miniconda3\lib\site-packages (from matplotlib-&gt;-r requirements.txt (line 4)) (3.0.9)
Requirement already satisfied: fonttools&gt;=4.22.0 in c:\users\martin\miniconda3\lib\site-packages (from matplotlib-&gt;-r requirements.txt (line 4)) (4.38.0)
Requirement already satisfied: packaging&gt;=20.0 in c:\users\martin\miniconda3\lib\site-packages (from matplotlib-&gt;-r requirements.txt (line 4)) (21.3)
Requirement already satisfied: pillow&gt;=6.2.0 in c:\users\martin\miniconda3\lib\site-packages (from matplotlib-&gt;-r requirements.txt (line 4)) (9.3.0)
Requirement already satisfied: cycler&gt;=0.10 in c:\users\martin\miniconda3\lib\site-packages (from matplotlib-&gt;-r requirements.txt (line 4)) (0.11.0)
Requirement already satisfied: six&gt;=1.5 in c:\users\martin\miniconda3\lib\site-packages (from python-dateutil&gt;=2.7.3-&gt;pandas-&gt;-r requirements.txt (line 1)) (1.14.0)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">mpl_toolkits.mplot3d</span> <span class="kn">import</span> <span class="n">Axes3D</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="nn">Input In [2],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;pandas&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;./data/cl5_frame_162.csv&quot;</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>X</th>
      <th>Y</th>
      <th>Z</th>
      <th>t</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0.026420</td>
      <td>-0.040949</td>
      <td>0.846697</td>
      <td>146858242489</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>0.026340</td>
      <td>-0.039581</td>
      <td>0.839636</td>
      <td>146858242489</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>0.026123</td>
      <td>-0.035955</td>
      <td>0.823015</td>
      <td>146858242489</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>0.025874</td>
      <td>-0.031560</td>
      <td>0.812543</td>
      <td>146858242489</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>0.025416</td>
      <td>-0.022376</td>
      <td>0.805492</td>
      <td>146858242489</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1342</th>
      <td>1343</td>
      <td>0.047472</td>
      <td>0.016116</td>
      <td>0.810161</td>
      <td>146858242489</td>
    </tr>
    <tr>
      <th>1343</th>
      <td>1344</td>
      <td>0.047531</td>
      <td>0.014700</td>
      <td>0.811255</td>
      <td>146858242489</td>
    </tr>
    <tr>
      <th>1344</th>
      <td>1345</td>
      <td>0.047547</td>
      <td>0.016421</td>
      <td>0.811869</td>
      <td>146858242489</td>
    </tr>
    <tr>
      <th>1345</th>
      <td>1346</td>
      <td>0.047651</td>
      <td>0.016273</td>
      <td>0.809760</td>
      <td>146858242489</td>
    </tr>
    <tr>
      <th>1346</th>
      <td>1347</td>
      <td>0.048229</td>
      <td>0.016841</td>
      <td>0.808924</td>
      <td>146858242489</td>
    </tr>
  </tbody>
</table>
<p>1347 rows × 5 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df0</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;./data/cl5_frame_324.csv&quot;</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
<span class="n">df0</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>X</th>
      <th>Y</th>
      <th>Z</th>
      <th>t</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0.025388</td>
      <td>-0.040407</td>
      <td>0.847793</td>
      <td>146858243049</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>0.025138</td>
      <td>-0.039642</td>
      <td>0.840657</td>
      <td>146858243049</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>0.024443</td>
      <td>-0.037440</td>
      <td>0.823819</td>
      <td>146858243049</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>0.023939</td>
      <td>-0.033938</td>
      <td>0.813118</td>
      <td>146858243049</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>0.023437</td>
      <td>-0.025160</td>
      <td>0.805379</td>
      <td>146858243049</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1342</th>
      <td>1343</td>
      <td>0.046771</td>
      <td>0.015940</td>
      <td>0.807147</td>
      <td>146858243049</td>
    </tr>
    <tr>
      <th>1343</th>
      <td>1344</td>
      <td>0.046794</td>
      <td>0.014741</td>
      <td>0.808209</td>
      <td>146858243049</td>
    </tr>
    <tr>
      <th>1344</th>
      <td>1345</td>
      <td>0.046770</td>
      <td>0.016420</td>
      <td>0.808743</td>
      <td>146858243049</td>
    </tr>
    <tr>
      <th>1345</th>
      <td>1346</td>
      <td>0.046752</td>
      <td>0.015958</td>
      <td>0.806853</td>
      <td>146858243049</td>
    </tr>
    <tr>
      <th>1346</th>
      <td>1347</td>
      <td>0.047257</td>
      <td>0.016406</td>
      <td>0.806097</td>
      <td>146858243049</td>
    </tr>
  </tbody>
</table>
<p>1347 rows × 5 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[[</span><span class="s2">&quot;X&quot;</span><span class="p">,</span><span class="s2">&quot;Y&quot;</span><span class="p">,</span><span class="s2">&quot;Z&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X</th>
      <th>Y</th>
      <th>Z</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>1347.000000</td>
      <td>1347.000000</td>
      <td>1347.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>0.021525</td>
      <td>0.048490</td>
      <td>0.816646</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.037110</td>
      <td>0.044093</td>
      <td>0.019819</td>
    </tr>
    <tr>
      <th>min</th>
      <td>-0.058761</td>
      <td>-0.042869</td>
      <td>0.780181</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>-0.004076</td>
      <td>0.013748</td>
      <td>0.804055</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>0.022041</td>
      <td>0.048692</td>
      <td>0.812865</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>0.048632</td>
      <td>0.082918</td>
      <td>0.822988</td>
    </tr>
    <tr>
      <th>max</th>
      <td>0.097833</td>
      <td>0.163695</td>
      <td>0.883406</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">style</span> <span class="o">=</span> <span class="s2">&quot;darkgrid&quot;</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">projection</span> <span class="o">=</span> <span class="s1">&#39;3d&#39;</span><span class="p">)</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Y&#39;</span><span class="p">]</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Z&#39;</span><span class="p">]</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;X&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Y&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s2">&quot;Z&quot;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">view_init</span><span class="p">(</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/point_analysis_subset_relativeEval-ALL_6_0.png" src="../_images/point_analysis_subset_relativeEval-ALL_6_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">stred</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="mi">28</span><span class="p">,</span><span class="mi">29</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">36</span><span class="p">])</span> <span class="c1">#,1073,1083,1133,1134,1188,1231,1268,1209,1167])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Provide &#39;Address&#39; as the column name</span>
<span class="n">size</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">info</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;other&quot;</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">)]</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;info&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">info</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">stred</span><span class="p">:</span>
  <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;info&quot;</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;center&quot;</span>

<span class="n">size</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">info</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">)]</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;marker&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">info</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">((</span><span class="n">size</span><span class="p">)):</span>
  <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;marker&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">i</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">size</span> <span class="o">=</span> <span class="n">df0</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">info</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;other&quot;</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">)]</span>
<span class="n">df0</span><span class="p">[</span><span class="s1">&#39;info&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">info</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">stred</span><span class="p">:</span>
  <span class="n">df0</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;info&quot;</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;center&quot;</span>

<span class="n">size</span> <span class="o">=</span> <span class="n">df0</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">info</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">)]</span>
<span class="n">df0</span><span class="p">[</span><span class="s1">&#39;marker&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">info</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">((</span><span class="n">size</span><span class="p">)):</span>
  <span class="n">df0</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;marker&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">i</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df0</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>X</th>
      <th>Y</th>
      <th>Z</th>
      <th>t</th>
      <th>info</th>
      <th>marker</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0.025388</td>
      <td>-0.040407</td>
      <td>0.847793</td>
      <td>146858243049</td>
      <td>other</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>0.025138</td>
      <td>-0.039642</td>
      <td>0.840657</td>
      <td>146858243049</td>
      <td>center</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>0.024443</td>
      <td>-0.037440</td>
      <td>0.823819</td>
      <td>146858243049</td>
      <td>center</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>0.023939</td>
      <td>-0.033938</td>
      <td>0.813118</td>
      <td>146858243049</td>
      <td>center</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>0.023437</td>
      <td>-0.025160</td>
      <td>0.805379</td>
      <td>146858243049</td>
      <td>center</td>
      <td>4</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1342</th>
      <td>1343</td>
      <td>0.046771</td>
      <td>0.015940</td>
      <td>0.807147</td>
      <td>146858243049</td>
      <td>other</td>
      <td>1342</td>
    </tr>
    <tr>
      <th>1343</th>
      <td>1344</td>
      <td>0.046794</td>
      <td>0.014741</td>
      <td>0.808209</td>
      <td>146858243049</td>
      <td>other</td>
      <td>1343</td>
    </tr>
    <tr>
      <th>1344</th>
      <td>1345</td>
      <td>0.046770</td>
      <td>0.016420</td>
      <td>0.808743</td>
      <td>146858243049</td>
      <td>other</td>
      <td>1344</td>
    </tr>
    <tr>
      <th>1345</th>
      <td>1346</td>
      <td>0.046752</td>
      <td>0.015958</td>
      <td>0.806853</td>
      <td>146858243049</td>
      <td>other</td>
      <td>1345</td>
    </tr>
    <tr>
      <th>1346</th>
      <td>1347</td>
      <td>0.047257</td>
      <td>0.016406</td>
      <td>0.806097</td>
      <td>146858243049</td>
      <td>other</td>
      <td>1346</td>
    </tr>
  </tbody>
</table>
<p>1347 rows × 7 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 1347 entries, 0 to 1346
Data columns (total 7 columns):
 #   Column  Non-Null Count  Dtype  
---  ------  --------------  -----  
 0   index   1347 non-null   int64  
 1   X       1347 non-null   float64
 2   Y       1347 non-null   float64
 3   Z       1347 non-null   float64
 4   t       1347 non-null   int64  
 5   info    1347 non-null   object 
 6   marker  1347 non-null   int64  
dtypes: float64(3), int64(3), object(1)
memory usage: 73.8+ KB
</pre></div>
</div>
</div>
</div>
<p>EyeLeft = 0
LefteyeInnercorner = 210
LefteyeOutercorner = 469
LefteyeMidtop = 241
LefteyeMidbottom = 1104
RighteyeInnercorner = 843
RighteyeOutercorner = 1117
RighteyeMidtop = 731
RighteyeMidbottom = 1090
LefteyebrowInner = 346
LefteyebrowOuter = 140
LefteyebrowCenter = 222
RighteyebrowInner = 803
RighteyebrowOuter = 758
RighteyebrowCenter = 849
MouthLeftcorner = 91
MouthRightcorner = 687
MouthUpperlipMidtop = 19
MouthUpperlipMidbottom = 1072
MouthLowerlipMidtop = 10
MouthLowerlipMidbottom = 8
NoseTip = 18
NoseBottom = 14
NoseBottomleft = 156
NoseBottomright = 783
NoseTop = 24
NoseTopleft = 151
NoseTopright = 772
ForeheadCenter = 28
LeftcheekCenter = 412
RightcheekCenter = 933
Leftcheekbone = 458
Rightcheekbone = 674
ChinCenter = 4
LowerjawLeftend = 1307
LowerjawRightend = 1327</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">points</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;points.csv&#39;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="s2">&quot;columns&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
<span class="n">points</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{0: &#39;EyeLeft &#39;,
 210: &#39;LefteyeInnercorner &#39;,
 469: &#39;LefteyeOutercorner &#39;,
 241: &#39;LefteyeMidtop &#39;,
 1104: &#39;LefteyeMidbottom &#39;,
 843: &#39;RighteyeInnercorner &#39;,
 1117: &#39;RighteyeOutercorner &#39;,
 731: &#39;RighteyeMidtop &#39;,
 1090: &#39;RighteyeMidbottom &#39;,
 346: &#39;LefteyebrowInner &#39;,
 140: &#39;LefteyebrowOuter &#39;,
 222: &#39;LefteyebrowCenter &#39;,
 803: &#39;RighteyebrowInner &#39;,
 758: &#39;RighteyebrowOuter &#39;,
 849: &#39;RighteyebrowCenter &#39;,
 91: &#39;MouthLeftcorner &#39;,
 687: &#39;MouthRightcorner &#39;,
 19: &#39;MouthUpperlipMidtop &#39;,
 1072: &#39;MouthUpperlipMidbottom &#39;,
 10: &#39;MouthLowerlipMidtop &#39;,
 8: &#39;MouthLowerlipMidbottom &#39;,
 18: &#39;NoseTip &#39;,
 14: &#39;NoseBottom &#39;,
 156: &#39;NoseBottomleft &#39;,
 783: &#39;NoseBottomright &#39;,
 24: &#39;NoseTop &#39;,
 151: &#39;NoseTopleft &#39;,
 772: &#39;NoseTopright &#39;,
 28: &#39;ForeheadCenter &#39;,
 412: &#39;LeftcheekCenter &#39;,
 933: &#39;RightcheekCenter &#39;,
 458: &#39;Leftcheekbone &#39;,
 674: &#39;Rightcheekbone &#39;,
 4: &#39;ChinCenter &#39;,
 1307: &#39;LowerjawLeftend &#39;,
 1327: &#39;LowerjawRightend &#39;}
</pre></div>
</div>
</div>
</div>
<p><a class="reference external" href="https://learn.microsoft.com/en-us/previous-versions/windows/kinect/dn791778(v=ieb.10)">https://learn.microsoft.com/en-us/previous-versions/windows/kinect/dn791778(v=ieb.10)</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">points_sel</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">fromiter</span><span class="p">(</span><span class="n">points</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
<span class="c1"># points_names = np.fromiter(points.values(), dtype=)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Provide &#39;Address&#39; as the column name</span>
<span class="n">size</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">info</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;other&quot;</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">)]</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;info&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">info</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">points_sel</span><span class="p">:</span>
  <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;info&quot;</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;center&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Provide &#39;Address&#39; as the column name</span>
<span class="n">size</span> <span class="o">=</span> <span class="n">df0</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">info</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;other&quot;</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">)]</span>
<span class="n">df0</span><span class="p">[</span><span class="s1">&#39;info&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">info</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">points_sel</span><span class="p">:</span>
  <span class="n">df0</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s2">&quot;info&quot;</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;center&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">style</span> <span class="o">=</span> <span class="s2">&quot;darkgrid&quot;</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">projection</span> <span class="o">=</span> <span class="s1">&#39;3d&#39;</span><span class="p">)</span>


<span class="n">names</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;info&#39;</span><span class="p">])</span>

<span class="n">df1</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;info&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;other&#39;</span><span class="p">]</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="s1">&#39;Y&#39;</span><span class="p">]</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="s1">&#39;Z&#39;</span><span class="p">]</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;X&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Y&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s2">&quot;Z&quot;</span><span class="p">)</span>


<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;green&quot;</span><span class="p">)</span>

<span class="n">dfA</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;info&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;center&#39;</span><span class="p">]</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">dfA</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">dfA</span><span class="p">[</span><span class="s1">&#39;Y&#39;</span><span class="p">]</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">dfA</span><span class="p">[</span><span class="s1">&#39;Z&#39;</span><span class="p">]</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;X&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Y&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s2">&quot;Z&quot;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">view_init</span><span class="p">(</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/point_analysis_subset_relativeEval-ALL_18_0.png" src="../_images/point_analysis_subset_relativeEval-ALL_18_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">style</span> <span class="o">=</span> <span class="s2">&quot;darkgrid&quot;</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">projection</span> <span class="o">=</span> <span class="s1">&#39;3d&#39;</span><span class="p">)</span>


<span class="n">names</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">df0</span><span class="p">[</span><span class="s1">&#39;info&#39;</span><span class="p">])</span>

<span class="n">df1</span><span class="o">=</span><span class="n">df0</span><span class="p">[</span><span class="n">df0</span><span class="p">[</span><span class="s1">&#39;info&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;other&#39;</span><span class="p">]</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="s1">&#39;Y&#39;</span><span class="p">]</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="s1">&#39;Z&#39;</span><span class="p">]</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;X&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Y&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s2">&quot;Z&quot;</span><span class="p">)</span>


<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;green&quot;</span><span class="p">)</span>

<span class="n">dfB</span><span class="o">=</span><span class="n">df0</span><span class="p">[</span><span class="n">df0</span><span class="p">[</span><span class="s1">&#39;info&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;center&#39;</span><span class="p">]</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">dfB</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">dfB</span><span class="p">[</span><span class="s1">&#39;Y&#39;</span><span class="p">]</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">dfB</span><span class="p">[</span><span class="s1">&#39;Z&#39;</span><span class="p">]</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;X&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Y&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s2">&quot;Z&quot;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">view_init</span><span class="p">(</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/point_analysis_subset_relativeEval-ALL_19_0.png" src="../_images/point_analysis_subset_relativeEval-ALL_19_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfA</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>X</th>
      <th>Y</th>
      <th>Z</th>
      <th>t</th>
      <th>info</th>
      <th>marker</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0.026420</td>
      <td>-0.040949</td>
      <td>0.846697</td>
      <td>146858242489</td>
      <td>center</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>0.025416</td>
      <td>-0.022376</td>
      <td>0.805492</td>
      <td>146858242489</td>
      <td>center</td>
      <td>4</td>
    </tr>
    <tr>
      <th>8</th>
      <td>9</td>
      <td>0.024053</td>
      <td>0.002032</td>
      <td>0.797385</td>
      <td>146858242489</td>
      <td>center</td>
      <td>8</td>
    </tr>
    <tr>
      <th>10</th>
      <td>11</td>
      <td>0.023484</td>
      <td>0.012267</td>
      <td>0.797628</td>
      <td>146858242489</td>
      <td>center</td>
      <td>10</td>
    </tr>
    <tr>
      <th>14</th>
      <td>15</td>
      <td>0.022041</td>
      <td>0.037473</td>
      <td>0.794348</td>
      <td>146858242489</td>
      <td>center</td>
      <td>14</td>
    </tr>
    <tr>
      <th>18</th>
      <td>19</td>
      <td>0.021207</td>
      <td>0.051952</td>
      <td>0.780181</td>
      <td>146858242489</td>
      <td>center</td>
      <td>18</td>
    </tr>
    <tr>
      <th>19</th>
      <td>20</td>
      <td>0.022834</td>
      <td>0.023409</td>
      <td>0.792993</td>
      <td>146858242489</td>
      <td>center</td>
      <td>19</td>
    </tr>
    <tr>
      <th>24</th>
      <td>25</td>
      <td>0.019233</td>
      <td>0.090726</td>
      <td>0.802657</td>
      <td>146858242489</td>
      <td>center</td>
      <td>24</td>
    </tr>
    <tr>
      <th>28</th>
      <td>29</td>
      <td>0.016812</td>
      <td>0.135887</td>
      <td>0.802958</td>
      <td>146858242489</td>
      <td>center</td>
      <td>28</td>
    </tr>
    <tr>
      <th>91</th>
      <td>92</td>
      <td>-0.003523</td>
      <td>0.013347</td>
      <td>0.809902</td>
      <td>146858242489</td>
      <td>center</td>
      <td>91</td>
    </tr>
    <tr>
      <th>140</th>
      <td>141</td>
      <td>-0.041537</td>
      <td>0.091726</td>
      <td>0.829850</td>
      <td>146858242489</td>
      <td>center</td>
      <td>140</td>
    </tr>
    <tr>
      <th>151</th>
      <td>152</td>
      <td>0.007085</td>
      <td>0.079490</td>
      <td>0.811432</td>
      <td>146858242489</td>
      <td>center</td>
      <td>151</td>
    </tr>
    <tr>
      <th>156</th>
      <td>157</td>
      <td>0.004221</td>
      <td>0.039591</td>
      <td>0.804045</td>
      <td>146858242489</td>
      <td>center</td>
      <td>156</td>
    </tr>
    <tr>
      <th>210</th>
      <td>211</td>
      <td>-0.001312</td>
      <td>0.083914</td>
      <td>0.817870</td>
      <td>146858242489</td>
      <td>center</td>
      <td>210</td>
    </tr>
    <tr>
      <th>222</th>
      <td>223</td>
      <td>-0.027177</td>
      <td>0.106243</td>
      <td>0.812054</td>
      <td>146858242489</td>
      <td>center</td>
      <td>222</td>
    </tr>
    <tr>
      <th>241</th>
      <td>242</td>
      <td>-0.011724</td>
      <td>0.087636</td>
      <td>0.813980</td>
      <td>146858242489</td>
      <td>center</td>
      <td>241</td>
    </tr>
    <tr>
      <th>346</th>
      <td>347</td>
      <td>-0.002352</td>
      <td>0.103408</td>
      <td>0.805234</td>
      <td>146858242489</td>
      <td>center</td>
      <td>346</td>
    </tr>
    <tr>
      <th>412</th>
      <td>413</td>
      <td>-0.037249</td>
      <td>0.027974</td>
      <td>0.830747</td>
      <td>146858242489</td>
      <td>center</td>
      <td>412</td>
    </tr>
    <tr>
      <th>458</th>
      <td>459</td>
      <td>-0.036923</td>
      <td>0.059224</td>
      <td>0.825131</td>
      <td>146858242489</td>
      <td>center</td>
      <td>458</td>
    </tr>
    <tr>
      <th>469</th>
      <td>470</td>
      <td>-0.027408</td>
      <td>0.082349</td>
      <td>0.821875</td>
      <td>146858242489</td>
      <td>center</td>
      <td>469</td>
    </tr>
    <tr>
      <th>674</th>
      <td>675</td>
      <td>0.078432</td>
      <td>0.065713</td>
      <td>0.824795</td>
      <td>146858242489</td>
      <td>center</td>
      <td>674</td>
    </tr>
    <tr>
      <th>687</th>
      <td>688</td>
      <td>0.050359</td>
      <td>0.016896</td>
      <td>0.810231</td>
      <td>146858242489</td>
      <td>center</td>
      <td>687</td>
    </tr>
    <tr>
      <th>731</th>
      <td>732</td>
      <td>0.050173</td>
      <td>0.090418</td>
      <td>0.813816</td>
      <td>146858242489</td>
      <td>center</td>
      <td>731</td>
    </tr>
    <tr>
      <th>758</th>
      <td>759</td>
      <td>0.079579</td>
      <td>0.097859</td>
      <td>0.829583</td>
      <td>146858242489</td>
      <td>center</td>
      <td>758</td>
    </tr>
    <tr>
      <th>772</th>
      <td>773</td>
      <td>0.032529</td>
      <td>0.080704</td>
      <td>0.811372</td>
      <td>146858242489</td>
      <td>center</td>
      <td>772</td>
    </tr>
    <tr>
      <th>783</th>
      <td>784</td>
      <td>0.039546</td>
      <td>0.041641</td>
      <td>0.803952</td>
      <td>146858242489</td>
      <td>center</td>
      <td>783</td>
    </tr>
    <tr>
      <th>803</th>
      <td>804</td>
      <td>0.039487</td>
      <td>0.104997</td>
      <td>0.805566</td>
      <td>146858242489</td>
      <td>center</td>
      <td>803</td>
    </tr>
    <tr>
      <th>843</th>
      <td>844</td>
      <td>0.040450</td>
      <td>0.085821</td>
      <td>0.817792</td>
      <td>146858242489</td>
      <td>center</td>
      <td>843</td>
    </tr>
    <tr>
      <th>849</th>
      <td>850</td>
      <td>0.063049</td>
      <td>0.110319</td>
      <td>0.812016</td>
      <td>146858242489</td>
      <td>center</td>
      <td>849</td>
    </tr>
    <tr>
      <th>933</th>
      <td>934</td>
      <td>0.082334</td>
      <td>0.034863</td>
      <td>0.830286</td>
      <td>146858242489</td>
      <td>center</td>
      <td>933</td>
    </tr>
    <tr>
      <th>1072</th>
      <td>1073</td>
      <td>0.023350</td>
      <td>0.014114</td>
      <td>0.797060</td>
      <td>146858242489</td>
      <td>center</td>
      <td>1072</td>
    </tr>
    <tr>
      <th>1090</th>
      <td>1091</td>
      <td>0.051191</td>
      <td>0.082801</td>
      <td>0.815821</td>
      <td>146858242489</td>
      <td>center</td>
      <td>1090</td>
    </tr>
    <tr>
      <th>1104</th>
      <td>1105</td>
      <td>-0.011908</td>
      <td>0.079922</td>
      <td>0.815962</td>
      <td>146858242489</td>
      <td>center</td>
      <td>1104</td>
    </tr>
    <tr>
      <th>1117</th>
      <td>1118</td>
      <td>0.066451</td>
      <td>0.087168</td>
      <td>0.821765</td>
      <td>146858242489</td>
      <td>center</td>
      <td>1117</td>
    </tr>
    <tr>
      <th>1307</th>
      <td>1308</td>
      <td>-0.035444</td>
      <td>-0.004363</td>
      <td>0.869237</td>
      <td>146858242489</td>
      <td>center</td>
      <td>1307</td>
    </tr>
    <tr>
      <th>1327</th>
      <td>1328</td>
      <td>0.084121</td>
      <td>0.002071</td>
      <td>0.869027</td>
      <td>146858242489</td>
      <td>center</td>
      <td>1327</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.spatial.distance</span> <span class="kn">import</span> <span class="n">squareform</span><span class="p">,</span> <span class="n">pdist</span>

<span class="c1"># pd.DataFrame(squareform(pdist(df.iloc[:, 1:3])), columns=df.marker.unique(), index=df.marker.unique())</span>
<span class="n">exp_dist</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">squareform</span><span class="p">(</span><span class="n">pdist</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">])),</span> <span class="n">columns</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">marker</span><span class="o">.</span><span class="n">unique</span><span class="p">(),</span> <span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">marker</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="n">exp_dist0</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">squareform</span><span class="p">(</span><span class="n">pdist</span><span class="p">(</span><span class="n">df0</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">])),</span> <span class="n">columns</span><span class="o">=</span><span class="n">df0</span><span class="o">.</span><span class="n">marker</span><span class="o">.</span><span class="n">unique</span><span class="p">(),</span> <span class="n">index</span><span class="o">=</span><span class="n">df0</span><span class="o">.</span><span class="n">marker</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">diff</span> <span class="o">=</span> <span class="p">((</span><span class="n">exp_dist</span><span class="o">-</span><span class="n">exp_dist0</span><span class="p">)</span><span class="o">/</span><span class="n">exp_dist</span><span class="p">)</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">diff</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
      <th>9</th>
      <th>...</th>
      <th>1337</th>
      <th>1338</th>
      <th>1339</th>
      <th>1340</th>
      <th>1341</th>
      <th>1342</th>
      <th>1343</th>
      <th>1344</th>
      <th>1345</th>
      <th>1346</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>1346.000000</td>
      <td>1346.000000</td>
      <td>1346.000000</td>
      <td>1346.000000</td>
      <td>1346.000000</td>
      <td>1346.000000</td>
      <td>1346.000000</td>
      <td>1346.000000</td>
      <td>1346.000000</td>
      <td>1346.000000</td>
      <td>...</td>
      <td>1346.000000</td>
      <td>1346.000000</td>
      <td>1346.000000</td>
      <td>1346.000000</td>
      <td>1346.000000</td>
      <td>1346.000000</td>
      <td>1346.000000</td>
      <td>1346.000000</td>
      <td>1346.000000</td>
      <td>1346.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>0.035227</td>
      <td>0.032586</td>
      <td>0.029695</td>
      <td>0.031715</td>
      <td>0.035264</td>
      <td>0.036485</td>
      <td>0.036716</td>
      <td>0.037053</td>
      <td>0.038026</td>
      <td>0.038548</td>
      <td>...</td>
      <td>0.045611</td>
      <td>0.045874</td>
      <td>0.046046</td>
      <td>0.046094</td>
      <td>0.045247</td>
      <td>0.046432</td>
      <td>0.046590</td>
      <td>0.048744</td>
      <td>0.045382</td>
      <td>0.042555</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.034616</td>
      <td>0.032142</td>
      <td>0.030259</td>
      <td>0.031159</td>
      <td>0.031416</td>
      <td>0.031957</td>
      <td>0.032279</td>
      <td>0.029821</td>
      <td>0.029674</td>
      <td>0.030153</td>
      <td>...</td>
      <td>0.030807</td>
      <td>0.031983</td>
      <td>0.033434</td>
      <td>0.034675</td>
      <td>0.035373</td>
      <td>0.045511</td>
      <td>0.036287</td>
      <td>0.057824</td>
      <td>0.058401</td>
      <td>0.035888</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000032</td>
      <td>0.000056</td>
      <td>0.000030</td>
      <td>0.000047</td>
      <td>0.000002</td>
      <td>0.000005</td>
      <td>0.000069</td>
      <td>0.000002</td>
      <td>0.000001</td>
      <td>0.000007</td>
      <td>...</td>
      <td>0.000041</td>
      <td>0.000132</td>
      <td>0.000029</td>
      <td>0.000002</td>
      <td>0.000054</td>
      <td>0.000056</td>
      <td>0.000005</td>
      <td>0.000017</td>
      <td>0.000004</td>
      <td>0.000029</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.014209</td>
      <td>0.013880</td>
      <td>0.011030</td>
      <td>0.009688</td>
      <td>0.009997</td>
      <td>0.010758</td>
      <td>0.011473</td>
      <td>0.011893</td>
      <td>0.012309</td>
      <td>0.012411</td>
      <td>...</td>
      <td>0.020411</td>
      <td>0.019032</td>
      <td>0.017764</td>
      <td>0.016601</td>
      <td>0.015734</td>
      <td>0.015753</td>
      <td>0.016657</td>
      <td>0.016714</td>
      <td>0.015291</td>
      <td>0.015319</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>0.029318</td>
      <td>0.026135</td>
      <td>0.023007</td>
      <td>0.023105</td>
      <td>0.025685</td>
      <td>0.026304</td>
      <td>0.025968</td>
      <td>0.029737</td>
      <td>0.031327</td>
      <td>0.031291</td>
      <td>...</td>
      <td>0.044540</td>
      <td>0.044039</td>
      <td>0.042681</td>
      <td>0.040831</td>
      <td>0.038965</td>
      <td>0.038559</td>
      <td>0.040610</td>
      <td>0.040882</td>
      <td>0.037675</td>
      <td>0.036057</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>0.047651</td>
      <td>0.044340</td>
      <td>0.040542</td>
      <td>0.048402</td>
      <td>0.054500</td>
      <td>0.055659</td>
      <td>0.053962</td>
      <td>0.056100</td>
      <td>0.058782</td>
      <td>0.060503</td>
      <td>...</td>
      <td>0.063781</td>
      <td>0.064791</td>
      <td>0.068044</td>
      <td>0.068669</td>
      <td>0.067125</td>
      <td>0.066895</td>
      <td>0.067607</td>
      <td>0.068841</td>
      <td>0.063271</td>
      <td>0.059577</td>
    </tr>
    <tr>
      <th>max</th>
      <td>0.412470</td>
      <td>0.412470</td>
      <td>0.391409</td>
      <td>0.295146</td>
      <td>0.196653</td>
      <td>0.144414</td>
      <td>0.137778</td>
      <td>0.146443</td>
      <td>0.145142</td>
      <td>0.142407</td>
      <td>...</td>
      <td>0.166990</td>
      <td>0.170037</td>
      <td>0.172949</td>
      <td>0.174406</td>
      <td>0.205195</td>
      <td>0.890059</td>
      <td>0.232555</td>
      <td>1.551311</td>
      <td>1.551311</td>
      <td>0.391745</td>
    </tr>
  </tbody>
</table>
<p>8 rows × 1347 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">diff</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
      <th>9</th>
      <th>...</th>
      <th>1337</th>
      <th>1338</th>
      <th>1339</th>
      <th>1340</th>
      <th>1341</th>
      <th>1342</th>
      <th>1343</th>
      <th>1344</th>
      <th>1345</th>
      <th>1346</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>NaN</td>
      <td>0.412470</td>
      <td>0.377385</td>
      <td>0.295146</td>
      <td>0.173570</td>
      <td>0.119703</td>
      <td>0.096059</td>
      <td>0.058807</td>
      <td>0.051263</td>
      <td>0.045741</td>
      <td>...</td>
      <td>0.007644</td>
      <td>0.003993</td>
      <td>0.000702</td>
      <td>0.002917</td>
      <td>0.007845</td>
      <td>0.009143</td>
      <td>0.006084</td>
      <td>0.006868</td>
      <td>0.012373</td>
      <td>0.014433</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.412470</td>
      <td>NaN</td>
      <td>0.364136</td>
      <td>0.274611</td>
      <td>0.153691</td>
      <td>0.103121</td>
      <td>0.081172</td>
      <td>0.045714</td>
      <td>0.038899</td>
      <td>0.034809</td>
      <td>...</td>
      <td>0.018847</td>
      <td>0.015114</td>
      <td>0.011644</td>
      <td>0.007843</td>
      <td>0.002660</td>
      <td>0.001223</td>
      <td>0.004556</td>
      <td>0.003472</td>
      <td>0.002133</td>
      <td>0.004367</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.377385</td>
      <td>0.364136</td>
      <td>NaN</td>
      <td>0.196555</td>
      <td>0.093908</td>
      <td>0.056833</td>
      <td>0.040702</td>
      <td>0.010958</td>
      <td>0.006351</td>
      <td>0.006465</td>
      <td>...</td>
      <td>0.047867</td>
      <td>0.044006</td>
      <td>0.040114</td>
      <td>0.035844</td>
      <td>0.029967</td>
      <td>0.028142</td>
      <td>0.032235</td>
      <td>0.030315</td>
      <td>0.024427</td>
      <td>0.021699</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.295146</td>
      <td>0.274611</td>
      <td>0.196555</td>
      <td>NaN</td>
      <td>0.043757</td>
      <td>0.020661</td>
      <td>0.009651</td>
      <td>0.016095</td>
      <td>0.018799</td>
      <td>0.014758</td>
      <td>...</td>
      <td>0.068752</td>
      <td>0.065198</td>
      <td>0.061262</td>
      <td>0.056716</td>
      <td>0.050246</td>
      <td>0.048080</td>
      <td>0.052848</td>
      <td>0.050215</td>
      <td>0.043917</td>
      <td>0.040675</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.173570</td>
      <td>0.153691</td>
      <td>0.093908</td>
      <td>0.043757</td>
      <td>NaN</td>
      <td>0.005463</td>
      <td>0.013956</td>
      <td>0.041829</td>
      <td>0.042361</td>
      <td>0.032321</td>
      <td>...</td>
      <td>0.083898</td>
      <td>0.082271</td>
      <td>0.079524</td>
      <td>0.075148</td>
      <td>0.067993</td>
      <td>0.065352</td>
      <td>0.070976</td>
      <td>0.067488</td>
      <td>0.060113</td>
      <td>0.055943</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 1347 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># # assume this df and that we are looking for &#39;abc&#39;</span>
<span class="c1"># df = pd.DataFrame({&#39;col&#39;:[&#39;abc&#39;, &#39;def&#39;,&#39;wert&#39;,1], &#39;col2&#39;:[&#39;asdf&#39;, &#39;abc&#39;, &#39;sdfg&#39;, &#39;def&#39;]})</span>

<span class="c1"># def get_rc(df,val):</span>
<span class="c1">#     return [(df[col][df[col]==val].index[i], df.columns.get_loc(col)) for col in df.columns for i in range(len(df[col][df[col]==val].index))]</span>

<span class="c1"># get_rc(diff,0.003228)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">points</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="c1"># get values in the same order as keys, and parse percentage values</span>
<span class="n">vals</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">points</span><span class="p">[</span><span class="n">k</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">]</span>
<span class="c1"># sns.barplot(x=keys, y=vals)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate a mask for the upper triangle</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">triu</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">diff</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">))</span>

<span class="c1"># Set up the matplotlib figure</span>
<span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>

<span class="c1"># Generate a custom diverging colormap</span>
<span class="c1"># cmap = sns.diverging_palette(230, 20, as_cmap=True)</span>
<span class="n">cmap</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s2">&quot;Spectral&quot;</span><span class="p">,</span> <span class="n">as_cmap</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Draw the heatmap with the mask and correct aspect ratio</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">diff</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mf">.01</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">square</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">linewidths</span><span class="o">=</span><span class="mf">.0</span><span class="p">,</span> <span class="n">cbar_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;shrink&quot;</span><span class="p">:</span> <span class="mf">.3</span><span class="p">})</span>

<span class="c1"># # set xticks labels</span>
<span class="c1"># ax.set(xticklabels=vals)</span>
<span class="c1"># # rotate labels</span>
<span class="c1"># plt.xticks(rotation=45)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot: &gt;
</pre></div>
</div>
<img alt="../_images/point_analysis_subset_relativeEval-ALL_27_1.png" src="../_images/point_analysis_subset_relativeEval-ALL_27_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">series</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">diff</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">ravel</span><span class="p">())</span>
<span class="n">series</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count    1.813062e+06
mean     4.810296e-02
std      4.953809e-02
min      1.103024e-08
25%      1.580204e-02
50%      3.531329e-02
75%      6.592137e-02
max      3.003074e+00
dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">triu</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">diff</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 99 percentile</span>
<span class="n">diff_array</span> <span class="o">=</span> <span class="n">diff</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<span class="n">res</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">diff_array</span> <span class="o">&gt;=</span> <span class="n">series</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.99</span><span class="p">))))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;99th Quantile: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">series</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.99</span><span class="p">)))</span>

<span class="c1"># for i in range(len(res)):</span>
<span class="c1">#     print(points[keys[res[i][0]]] + &quot;, &quot; + points[keys[res[i][1]]])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>99th Quantile: 0.22394245051231443
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">set_theme</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;ticks&quot;</span><span class="p">)</span>

<span class="c1"># Initialize the figure with a logarithmic x axis</span>
<span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="c1"># ax.set_xscale(&quot;log&quot;)</span>

<span class="n">keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">points</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="c1"># get values in the same order as keys, and parse percentage values</span>
<span class="n">vals</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">points</span><span class="p">[</span><span class="n">k</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">]</span>
<span class="c1"># sns.barplot(x=keys, y=vals)</span>

<span class="c1"># Plot the orbital period with horizontal boxes</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">diff</span><span class="p">,</span>
            <span class="n">whis</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span> <span class="n">width</span><span class="o">=</span><span class="mf">.6</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;vlag&quot;</span><span class="p">)</span>

<span class="c1"># set xticks labels</span>
<span class="c1"># ax.set(xticklabels=vals)</span>
<span class="c1"># rotate labels</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>

<span class="c1"># # Add in points to show each observation</span>
<span class="n">sns</span><span class="o">.</span><span class="n">stripplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">diff</span><span class="p">,</span>
              <span class="n">size</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;dark:.3&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Tweak the visual presentation</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Points relative </span><span class="si">% c</span><span class="s1">hange overview&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Point&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Change in points&#39;</span><span class="p">)</span>

<span class="n">sns</span><span class="o">.</span><span class="n">despine</span><span class="p">(</span><span class="n">trim</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/point_analysis_subset_relativeEval-ALL_31_0.png" src="../_images/point_analysis_subset_relativeEval-ALL_31_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># a = diff.max()</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">diff</span><span class="p">[</span><span class="mi">18</span><span class="p">]</span>
<span class="c1"># a.describe()</span>
<span class="n">a</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    0.060295
1    0.054785
2    0.041334
3    0.033054
4    0.031724
Name: 18, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ma</span> <span class="o">=</span> <span class="n">a</span> <span class="o">&gt;=</span> <span class="n">a</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.8</span><span class="p">)</span>
<span class="n">ma</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0       False
1       False
2       False
3       False
4       False
        ...  
1342    False
1343    False
1344    False
1345    False
1346    False
Name: 18, Length: 1347, dtype: bool
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">style</span> <span class="o">=</span> <span class="s2">&quot;darkgrid&quot;</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">projection</span> <span class="o">=</span> <span class="s1">&#39;3d&#39;</span><span class="p">)</span>


<span class="n">df1</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">ma</span> <span class="o">==</span> <span class="kc">False</span><span class="p">]</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="s1">&#39;Y&#39;</span><span class="p">]</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="s1">&#39;Z&#39;</span><span class="p">]</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;X&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Y&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s2">&quot;Z&quot;</span><span class="p">)</span>


<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;blue&quot;</span><span class="p">)</span>

<span class="c1"># # under the threshold</span>
<span class="c1"># df1=df[ma == False]</span>

<span class="c1"># x = df1[&#39;X&#39;]</span>
<span class="c1"># y = df1[&#39;Y&#39;]</span>
<span class="c1"># z = df1[&#39;Z&#39;]</span>

<span class="c1"># ax.set_xlabel(&quot;X&quot;)</span>
<span class="c1"># ax.set_ylabel(&quot;Y&quot;)</span>
<span class="c1"># ax.set_zlabel(&quot;Z&quot;)</span>


<span class="c1"># ax.scatter(x, y, z, color = &quot;green&quot;)</span>

<span class="c1"># over the threshold</span>
<span class="n">df2</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">ma</span> <span class="o">==</span> <span class="kc">True</span><span class="p">]</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">df2</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df2</span><span class="p">[</span><span class="s1">&#39;Y&#39;</span><span class="p">]</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">df2</span><span class="p">[</span><span class="s1">&#39;Z&#39;</span><span class="p">]</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;X&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Y&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s2">&quot;Z&quot;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;h&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">view_init</span><span class="p">(</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Red points &gt; 80 percentile of change&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/point_analysis_subset_relativeEval-ALL_34_0.png" src="../_images/point_analysis_subset_relativeEval-ALL_34_0.png" />
</div>
</div>
<p><a class="reference external" href="https://www.tutorialspoint.com/plot-scatter-points-on-a-3d-projection-with-varying-marker-size-in-matplotlib">https://www.tutorialspoint.com/plot-scatter-points-on-a-3d-projection-with-varying-marker-size-in-matplotlib</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="c1"># plt.rcParams[&quot;figure.figsize&quot;] = [7.50, 3.50]</span>
<span class="c1"># plt.rcParams[&quot;figure.autolayout&quot;] = True</span>

<span class="c1"># df1=df[df[&#39;info&#39;] == &#39;other&#39;]</span>

<span class="c1"># x = df1[&#39;X&#39;]</span>
<span class="c1"># y = df1[&#39;Y&#39;]</span>
<span class="c1"># z = df1[&#39;Z&#39;]</span>

<span class="c1"># ax.set_xlabel(&quot;X&quot;)</span>
<span class="c1"># ax.set_ylabel(&quot;Y&quot;)</span>
<span class="c1"># ax.set_zlabel(&quot;Z&quot;)</span>

<span class="c1"># s = np.ones(df1.shape[0])</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="c1"># ax.scatter(x, y, z, s=s, c=s, cmap=&#39;copper&#39;)</span>

<span class="c1"># under the threshold</span>
<span class="n">df1</span><span class="o">=</span><span class="n">df</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="s1">&#39;Y&#39;</span><span class="p">]</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="s1">&#39;Z&#39;</span><span class="p">]</span>

<span class="n">a_val</span><span class="o">=</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
<span class="n">a_val</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan_to_num</span><span class="p">(</span><span class="n">a_val</span><span class="p">,</span> <span class="n">nan</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">s</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">a_val</span><span class="p">)</span>

<span class="c1"># fig = plt.figure(figsize=(16, 12), dpi=80)</span>
<span class="c1"># ax = fig.add_subplot(111, projection=&#39;3d&#39;)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">s</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;vlag&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;X&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Y&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s2">&quot;Z&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">view_init</span><span class="p">(</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/point_analysis_subset_relativeEval-ALL_36_0.png" src="../_images/point_analysis_subset_relativeEval-ALL_36_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip install watermark
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting watermark
  Using cached watermark-2.3.1-py2.py3-none-any.whl (7.2 kB)
Requirement already satisfied: ipython in c:\users\martin\miniconda3\envs\julab\lib\site-packages (from watermark) (8.4.0)
Requirement already satisfied: traitlets&gt;=5 in c:\users\martin\miniconda3\envs\julab\lib\site-packages (from ipython-&gt;watermark) (5.5.0)
Requirement already satisfied: matplotlib-inline in c:\users\martin\miniconda3\envs\julab\lib\site-packages (from ipython-&gt;watermark) (0.1.6)
Requirement already satisfied: prompt-toolkit!=3.0.0,!=3.0.1,&lt;3.1.0,&gt;=2.0.0 in c:\users\martin\miniconda3\envs\julab\lib\site-packages (from ipython-&gt;watermark) (3.0.32)
Requirement already satisfied: pygments&gt;=2.4.0 in c:\users\martin\miniconda3\envs\julab\lib\site-packages (from ipython-&gt;watermark) (2.13.0)
Requirement already satisfied: setuptools&gt;=18.5 in c:\users\martin\miniconda3\envs\julab\lib\site-packages (from ipython-&gt;watermark) (65.5.0)
Requirement already satisfied: stack-data in c:\users\martin\miniconda3\envs\julab\lib\site-packages (from ipython-&gt;watermark) (0.6.1)
Requirement already satisfied: colorama in c:\users\martin\miniconda3\envs\julab\lib\site-packages (from ipython-&gt;watermark) (0.4.6)
Requirement already satisfied: backcall in c:\users\martin\miniconda3\envs\julab\lib\site-packages (from ipython-&gt;watermark) (0.2.0)
Requirement already satisfied: decorator in c:\users\martin\miniconda3\envs\julab\lib\site-packages (from ipython-&gt;watermark) (5.1.1)
Requirement already satisfied: pickleshare in c:\users\martin\miniconda3\envs\julab\lib\site-packages (from ipython-&gt;watermark) (0.7.5)
Requirement already satisfied: jedi&gt;=0.16 in c:\users\martin\miniconda3\envs\julab\lib\site-packages (from ipython-&gt;watermark) (0.18.1)
Requirement already satisfied: parso&lt;0.9.0,&gt;=0.8.0 in c:\users\martin\miniconda3\envs\julab\lib\site-packages (from jedi&gt;=0.16-&gt;ipython-&gt;watermark) (0.8.3)
Requirement already satisfied: wcwidth in c:\users\martin\miniconda3\envs\julab\lib\site-packages (from prompt-toolkit!=3.0.0,!=3.0.1,&lt;3.1.0,&gt;=2.0.0-&gt;ipython-&gt;watermark) (0.2.5)
Requirement already satisfied: pure-eval in c:\users\martin\miniconda3\envs\julab\lib\site-packages (from stack-data-&gt;ipython-&gt;watermark) (0.2.2)
Requirement already satisfied: executing&gt;=1.2.0 in c:\users\martin\miniconda3\envs\julab\lib\site-packages (from stack-data-&gt;ipython-&gt;watermark) (1.2.0)
Requirement already satisfied: asttokens&gt;=2.1.0 in c:\users\martin\miniconda3\envs\julab\lib\site-packages (from stack-data-&gt;ipython-&gt;watermark) (2.1.0)
Requirement already satisfied: six in c:\users\martin\miniconda3\envs\julab\lib\site-packages (from asttokens&gt;=2.1.0-&gt;stack-data-&gt;ipython-&gt;watermark) (1.16.0)
Installing collected packages: watermark
Successfully installed watermark-2.3.1
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">watermark</span> <span class="kn">import</span> <span class="n">watermark</span>
<span class="n">watermark</span><span class="p">(</span><span class="n">iversions</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">globals_</span><span class="o">=</span><span class="nb">globals</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">watermark</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Last updated: 2022-11-27T12:12:28.416650+01:00

Python implementation: CPython
Python version       : 3.9.13
IPython version      : 8.4.0

Compiler    : MSC v.1929 64 bit (AMD64)
OS          : Windows
Release     : 10
Machine     : AMD64
Processor   : Intel64 Family 6 Model 158 Stepping 9, GenuineIntel
CPU cores   : 4
Architecture: 64bit
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">watermark</span><span class="p">(</span><span class="n">packages</span><span class="o">=</span><span class="s2">&quot;watermark,numpy,pandas,seaborn&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>watermark: 2.3.1
numpy    : 1.23.4
pandas   : 1.5.1
seaborn  : 0.12.1
</pre></div>
</div>
</div>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./EDA"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="point_analysis_subset_relativeEval.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Subset relative point analysis - specific points</p>
        </div>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Martin Schätz<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>